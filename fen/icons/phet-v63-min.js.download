var jQueryReadyInterval=setInterval(function(){if(typeof jQuery!==undefined){clearInterval(jQueryReadyInterval);
/*!
 * jquery.autocomplete.js
 * Copyright (c) Dylan Verheul <dylan.verheul@gmail.com>
 * MIT license
 * http://code.google.com/p/jquery-autocomplete/
 */
(function(g){g.Autocompleter=function(i,j){this.cacheData_={};this.cacheLength_=0;this.selectClass_="jquery-autocomplete-selected-item";this.keyTimeout_=null;this.lastKeyPressed_=null;this.lastProcessedValue_=null;this.lastSelectedValue_=null;
this.active_=false;this.finishOnBlur_=true;if(!i||!(i instanceof jQuery)||i.length!==1||i.get(0).tagName.toUpperCase()!=="INPUT"){alert("Invalid parameter for jquery.Autocompleter, jQuery object with one element with INPUT tag expected");return}if(typeof j==="string"){this.options={url:j}}else{this.options=j}this.options.maxCacheLength=parseInt(this.options.maxCacheLength,10);if(isNaN(this.options.maxCacheLength)||this.options.maxCacheLength<1){this.options.maxCacheLength=1}this.options.minChars=parseInt(this.options.minChars,10);
if(isNaN(this.options.minChars)||this.options.minChars<1){this.options.minChars=1}this.dom={};this.dom.$elem=i;if(this.options.inputClass){this.dom.$elem.addClass(this.options.inputClass)}this.dom.$results=g("<div></div>").hide();if(this.options.resultsClass){this.dom.$results.addClass(this.options.resultsClass)}this.dom.$results.css({position:"absolute"});g("body").append(this.dom.$results);var h=this;i.keydown(function(k){h.lastKeyPressed_=k.keyCode;switch(h.lastKeyPressed_){case 38:k.preventDefault();
if(h.active_){h.focusPrev()}else{h.activate()}return false;break;case 40:k.preventDefault();if(h.active_){h.focusNext()}else{h.activate()}return false;break;case 9:case 13:if(h.active_){if(h.selectCurrent()){k.preventDefault();return false}return true}break;case 27:if(h.active_){k.preventDefault();h.finish();return false}break;default:h.activate()}});i.blur(function(){if(h.finishOnBlur_){setTimeout(function(){h.finish()},200)}})};g.Autocompleter.prototype.position=function(){var h=this.dom.$elem.offset();
this.dom.$results.css({top:h.top+this.dom.$elem.outerHeight(),left:h.left})};g.Autocompleter.prototype.cacheRead=function(k){var m,j,i,h,l;if(this.options.useCache){k=String(k);m=k.length;if(this.options.matchSubset){j=1}else{j=m}while(j<=m){if(this.options.matchInside){h=m-j}else{h=0}l=0;while(l<=h){i=k.substr(0,j);if(this.cacheData_[i]!==undefined){return this.cacheData_[i]}l++}j++}}return false};g.Autocompleter.prototype.cacheWrite=function(h,i){if(this.options.useCache){if(this.cacheLength_>=this.options.maxCacheLength){this.cacheFlush()
}h=String(h);if(this.cacheData_[h]!==undefined){this.cacheLength_++}return this.cacheData_[h]=i}return false};g.Autocompleter.prototype.cacheFlush=function(){this.cacheData_={};this.cacheLength_=0};g.Autocompleter.prototype.callHook=function(j,i){var h=this.options[j];if(h&&g.isFunction(h)){return h(i,this)}return false};g.Autocompleter.prototype.activate=function(){var i=this;var h=function(){i.activateNow()};var j=parseInt(this.options.delay,10);if(isNaN(j)||j<=0){j=250}if(this.keyTimeout_){clearTimeout(this.keyTimeout_)
}this.keyTimeout_=setTimeout(h,j)};g.Autocompleter.prototype.activateNow=function(){var h=this.dom.$elem.val();if(h!==this.lastProcessedValue_&&h!==this.lastSelectedValue_){if(h.length>=this.options.minChars){this.active_=true;this.lastProcessedValue_=h;this.fetchData(h)}else{if(h.length==0){this.finish()}}}};g.Autocompleter.prototype.fetchData=function(i){if(this.options.data){this.filterAndShowResults(this.options.data,i)}else{var h=this;this.fetchRemoteData(i,function(j){h.filterAndShowResults(j,i)
})}};g.Autocompleter.prototype.fetchRemoteData=function(j,l){var k=this.cacheRead(j);if(k){l(k)}else{var h=this;this.dom.$elem.addClass(this.options.loadingClass);var i=function(n){var m=false;if(n!==false){m=h.parseRemoteData(n);h.cacheWrite(j,m)}h.dom.$elem.removeClass(h.options.loadingClass);l(m)};g.ajax({url:this.makeUrl(j),success:i,error:function(){i(false)}})}};g.Autocompleter.prototype.setExtraParam=function(i,j){var h=g.trim(String(i));if(h){if(!this.options.extraParams){this.options.extraParams={}
}if(this.options.extraParams[h]!==j){this.options.extraParams[h]=j;this.cacheFlush()}}};g.Autocompleter.prototype.makeUrl=function(m){var h=this;var k=this.options.paramName||"q";var i=this.options.url;var l=g.extend({},this.options.extraParams);if(this.options.paramName===false){i+=encodeURIComponent(m)}else{l[k]=m}var j=[];g.each(l,function(n,o){j.push(h.makeUrlParam(n,o))});if(j.length){i+=i.indexOf("?")==-1?"?":"&";i+=j.join("&")}return i};g.Autocompleter.prototype.makeUrlParam=function(h,i){return String(h)+"="+encodeURIComponent(i)
};g.Autocompleter.prototype.parseRemoteData=function(n){var l=[];var p=String(n).replace("\r\n","\n");var m,h,k,q,r=p.split("\n");var o;for(m=0;m<r.length;m++){q=r[m].split("|");k=[];for(h=0;h<q.length;h++){k.push(unescape(q[h]))}o=k.shift();l.push({value:unescape(o),data:k})}return l};g.Autocompleter.prototype.filterAndShowResults=function(h,i){this.showResults(this.filterResults(h,i),i)};g.Autocompleter.prototype.filterResults=function(m,j){var o=[];var t,l,n,u,q,h;var s,p,k="";var r=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");
for(n=0;n<m.length;n++){u=m[n];q=typeof u;if(q==="string"){t=u;l={}}else{if(g.isArray(u)){t=u[0];l=u.slice(1)}else{if(q==="object"){t=u.value;l=u.data}}}t=String(t);if(t>""){if(typeof l!=="object"){l={}}h=!this.options.filterResults;if(!h){p=String(j);p=p.replace(r,"\\$&");if(!this.options.matchInside){p="^"+p}if(!this.options.matchCase){k="i"}s=new RegExp(p,k);h=s.test(t)}if(h){o.push({value:t,data:l})}}}if(this.options.sortResults){o=this.sortResults(o,j)}if(this.options.maxItemsToShow>0&&this.options.maxItemsToShow<o.length){o.length=this.options.maxItemsToShow
}return o};g.Autocompleter.prototype.sortResults=function(j,k){var i=this;var h=this.options.sortFunction;if(!g.isFunction(h)){h=function(m,l,n){return i.sortValueAlpha(m,l,n)}}j.sort(function(m,l){return h(m,l,k)});return j};g.Autocompleter.prototype.sortValueAlpha=function(i,h,j){i=String(i.value);h=String(h.value);if(!this.options.matchCase){i=i.toLowerCase();h=h.toLowerCase()}if(i>h){return 1}if(i<h){return -1}return 0};g.Autocompleter.prototype.showResults=function(m,j){var r=this;var o=g("<ul></ul>");
var n,s,q,h,p=false,l=false;var k=m.length;for(n=0;n<k;n++){s=m[n];q=g("<li>"+this.showResult(s.value,s.data)+"</li>");q.data("value",s.value);q.data("data",s.data);q.click(function(){var i=g(this);r.selectItem(i)}).mousedown(function(){r.finishOnBlur_=false}).mouseup(function(){r.finishOnBlur_=true});o.append(q);if(p===false){p=String(s.value);l=q;q.addClass(this.options.firstItemClass)}if(n==k-1){q.addClass(this.options.lastItemClass)}}this.position();this.dom.$results.html(o).show();h=this.dom.$results.outerWidth()-this.dom.$results.width();
this.dom.$results.width(g("#search-text-id").outerWidth()-h);g("li",this.dom.$results).hover(function(){r.focusItem(this)},function(){});if(this.autoFill(p,j)){this.focusItem(l)}};g.Autocompleter.prototype.showResult=function(i,h){if(g.isFunction(this.options.showResult)){return this.options.showResult(i,h)}else{return i}};g.Autocompleter.prototype.autoFill=function(l,j){var i,h,k,m;if(this.options.autoFill&&this.lastKeyPressed_!=8){i=String(l).toLowerCase();h=String(j).toLowerCase();k=l.length;m=j.length;
if(i.substr(0,m)===h){this.dom.$elem.val(l);this.selectRange(m,k);return true}}return false};g.Autocompleter.prototype.focusNext=function(){this.focusMove(+1)};g.Autocompleter.prototype.focusPrev=function(){this.focusMove(-1)};g.Autocompleter.prototype.focusMove=function(h){var j,k=g("li",this.dom.$results);h=parseInt(h,10);for(var j=0;j<k.length;j++){if(g(k[j]).hasClass(this.selectClass_)){this.focusItem(j+h);return}}this.focusItem(0)};g.Autocompleter.prototype.focusItem=function(i){var h,j=g("li",this.dom.$results);
if(j.length){j.removeClass(this.selectClass_).removeClass(this.options.selectClass);if(typeof i==="number"){i=parseInt(i,10);if(i<0){i=0}else{if(i>=j.length){i=j.length-1}}h=g(j[i])}else{h=g(i)}if(h){h.addClass(this.selectClass_).addClass(this.options.selectClass)}}};g.Autocompleter.prototype.selectCurrent=function(){var h=g("li."+this.selectClass_,this.dom.$results);if(h.length==1){this.selectItem(h)}else{this.finish()}return h.length>0};g.Autocompleter.prototype.selectItem=function(k){var j=k.data("value");
var i=k.data("data");var h=this.displayValue(j,i);this.lastProcessedValue_=h;this.lastSelectedValue_=h;this.dom.$elem.val(h).focus();this.setCaret(h.length);this.callHook("onItemSelect",{value:j,data:i});this.finish()};g.Autocompleter.prototype.displayValue=function(i,h){if(g.isFunction(this.options.displayValue)){return this.options.displayValue(i,h)}else{return i}};g.Autocompleter.prototype.finish=function(){if(this.keyTimeout_){clearTimeout(this.keyTimeout_)}if(this.dom.$elem.val()!==this.lastSelectedValue_){if(this.options.mustMatch){this.dom.$elem.val("")
}this.callHook("onNoMatch")}this.dom.$results.hide();this.lastKeyPressed_=null;this.lastProcessedValue_=null;if(this.active_){this.callHook("onFinish")}this.active_=false};g.Autocompleter.prototype.selectRange=function(k,h){var j=this.dom.$elem.get(0);if(j.setSelectionRange){j.focus();j.setSelectionRange(k,h)}else{if(this.createTextRange){var i=this.createTextRange();i.collapse(true);i.moveEnd("character",h);i.moveStart("character",k);i.select()}}};g.Autocompleter.prototype.setCaret=function(h){this.selectRange(h,h)
};g.fn.autocomplete=function(h){if(typeof h==="string"){h={url:h}}var i=g.extend({},g.fn.autocomplete.defaults,h);return this.each(function(){var k=g(this);var j=new g.Autocompleter(k,i);k.data("autocompleter",j)})};g.fn.autocomplete.defaults={paramName:"q",minChars:1,loadingClass:"acLoading",resultsClass:"acResults",inputClass:"acInput",selectClass:"acSelect",mustMatch:false,matchCase:false,matchInside:true,matchSubset:true,useCache:true,maxCacheLength:10,autoFill:false,filterResults:true,sortResults:true,sortFunction:false,onItemSelect:false,onNoMatch:false,maxItemsToShow:-1}
})(jQuery);window.Modernizr=function(ar,aq,ap){function ac(g){aj.cssText=g}function aa(h,g){return ac(af.join(h+";")+(g||""))}function Y(h,g){return typeof h===g}function W(h,g){return !!~(""+h).indexOf(g)}function U(h,g){for(var j in h){var i=h[j];if(!W(i,"-")&&aj[i]!==ap){return g=="pfx"?i:!0}}return !1}function S(h,g,k){for(var j in h){var i=g[h[j]];if(i!==ap){return k===!1?h[j]:Y(i,"function")?i.bind(k||g):i}}return !1}function Q(h,g,k){var j=h.charAt(0).toUpperCase()+h.slice(1),i=(h+" "+ad.join(j+" ")+j).split(" ");
return Y(g,"string")||Y(g,"undefined")?U(i,g):(i=(h+" "+ab.join(j+" ")+j).split(" "),S(i,g,k))}function O(){an.input=function(i){for(var h=0,g=i.length;h<g;h++){T[i[h]]=i[h] in ai}return T.list&&(T.list=!!aq.createElement("datalist")&&!!ar.HTMLDataListElement),T}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),an.inputtypes=function(j){for(var o=0,n,m,l,k=j.length;o<k;o++){ai.setAttribute("type",m=j[o]),n=ai.type!=="text",n&&(ai.value=ah,ai.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(m)&&ai.style.WebkitAppearance!==ap?(am.appendChild(ai),l=aq.defaultView,n=l.getComputedStyle&&l.getComputedStyle(ai,null).WebkitAppearance!=="textfield"&&ai.offsetHeight!==0,am.removeChild(ai)):/^(search|tel)$/.test(m)||(/^(url|email)$/.test(m)?n=ai.checkValidity&&ai.checkValidity()===!1:n=ai.value!=ah)),V[j[o]]=!!n
}return V}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var ao="2.6.2",an={},am=aq.documentElement,al="modernizr",ak=aq.createElement(al),aj=ak.style,ai=aq.createElement("input"),ah=":)",ag={}.toString,af=" -webkit- -moz- -o- -ms- ".split(" "),ae="Webkit Moz O ms",ad=ae.split(" "),ab=ae.toLowerCase().split(" "),Z={svg:"http://www.w3.org/2000/svg"},X={},V={},T={},R=[],P=R.slice,N,M=function(x,w,v,u){var t,s,r,q,p=aq.createElement("div"),o=aq.body,g=o||aq.createElement("body");
if(parseInt(v,10)){while(v--){r=aq.createElement("div"),r.id=u?u[v]:al+(v+1),p.appendChild(r)}}return t=["&#173;",'<style id="s',al,'">',x,"</style>"].join(""),p.id=al,(o?p:g).innerHTML+=t,g.appendChild(p),o||(g.style.background="",g.style.overflow="hidden",q=am.style.overflow,am.style.overflow="hidden",am.appendChild(g)),s=w(p,x),o?p.parentNode.removeChild(p):(g.parentNode.removeChild(g),am.style.overflow=q),!!s},K={}.hasOwnProperty,J;!Y(K,"undefined")&&!Y(K.call,"undefined")?J=function(h,g){return K.call(h,g)
}:J=function(h,g){return g in h&&Y(h.constructor.prototype[g],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(g){var j=this;if(typeof j!="function"){throw new TypeError}var i=P.call(arguments,1),h=function(){if(this instanceof h){var k=function(){};k.prototype=j.prototype;var m=new k,l=j.apply(m,i.concat(P.call(arguments)));return Object(l)===l?l:m}return j.apply(g,i.concat(P.call(arguments)))};return h}),X.flexbox=function(){return Q("flexWrap")},X.canvas=function(){var g=aq.createElement("canvas");
return !!g.getContext&&!!g.getContext("2d")},X.canvastext=function(){return !!an.canvas&&!!Y(aq.createElement("canvas").getContext("2d").fillText,"function")},X.webgl=function(){return !!ar.WebGLRenderingContext},X.touch=function(){var g;return"ontouchstart" in ar||ar.DocumentTouch&&aq instanceof DocumentTouch?g=!0:M(["@media (",af.join("touch-enabled),("),al,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(h){g=h.offsetTop===9}),g},X.postmessage=function(){return !!ar.postMessage
},X.history=function(){return !!ar.history&&!!history.pushState},X.websockets=function(){return"WebSocket" in ar||"MozWebSocket" in ar},X.rgba=function(){return ac("background-color:rgba(150,255,150,.5)"),W(aj.backgroundColor,"rgba")},X.hsla=function(){return ac("background-color:hsla(120,40%,100%,.5)"),W(aj.backgroundColor,"rgba")||W(aj.backgroundColor,"hsla")},X.borderradius=function(){return Q("borderRadius")},X.boxshadow=function(){return Q("boxShadow")},X.opacity=function(){return aa("opacity:.55"),/^0.55$/.test(aj.opacity)
},X.cssanimations=function(){return Q("animationName")},X.cssgradients=function(){var h="background-image:",g="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return ac((h+"-webkit- ".split(" ").join(g+h)+af.join(i+h)).slice(0,-h.length)),W(aj.backgroundImage,"gradient")},X.csstransforms=function(){return !!Q("transform")},X.csstransforms3d=function(){var g=!!Q("perspective");return g&&"webkitPerspective" in am.style&&M("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(h,i){g=h.offsetLeft===9&&h.offsetHeight===3
}),g},X.generatedcontent=function(){var g;return M(["#",al,"{font:0/0 a}#",al,':after{content:"',ah,'";visibility:hidden;font:3px/1 a}'].join(""),function(h){g=h.offsetHeight>=3}),g},X.video=function(){var g=aq.createElement("video"),i=!1;try{if(i=!!g.canPlayType){i=new Boolean(i),i.ogg=g.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=g.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=g.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")
}}catch(h){}return i},X.audio=function(){var g=aq.createElement("audio"),i=!1;try{if(i=!!g.canPlayType){i=new Boolean(i),i.ogg=g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=g.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=g.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(g.canPlayType("audio/x-m4a;")||g.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(h){}return i},X.localstorage=function(){try{return localStorage.setItem(al,al),localStorage.removeItem(al),!0
}catch(g){return !1}},X.webworkers=function(){return !!ar.Worker},X.applicationcache=function(){return !!ar.applicationCache},X.svg=function(){return !!aq.createElementNS&&!!aq.createElementNS(Z.svg,"svg").createSVGRect},X.inlinesvg=function(){var g=aq.createElement("div");return g.innerHTML="<svg/>",(g.firstChild&&g.firstChild.namespaceURI)==Z.svg},X.svgclippaths=function(){return !!aq.createElementNS&&/SVGClipPath/.test(ag.call(aq.createElementNS(Z.svg,"clipPath")))};for(var L in X){J(X,L)&&(N=L.toLowerCase(),an[N]=X[L](),R.push((an[N]?"":"no-")+N))
}return an.input||O(),an.addTest=function(h,g){if(typeof h=="object"){for(var i in h){J(h,i)&&an.addTest(i,h[i])}}else{h=h.toLowerCase();if(an[h]!==ap){return an}g=typeof g=="function"?g():g,typeof enableClasses!="undefined"&&enableClasses&&(am.className+=" "+(g?"":"no-")+h),an[h]=g}return an},ac(""),ak=ai=null,an._version=ao,an._prefixes=af,an._domPrefixes=ab,an._cssomPrefixes=ad,an.testProp=function(g){return U([g])},an.testAllProps=Q,an.testStyles=M,an.prefixed=function(h,g,i){return g?Q(h,g,i):Q(h,"pfx")
},an}(this,this.document),Modernizr.addTest("strictmode",function(){return function(){return"use strict",!this}()}),Modernizr.addTest("fullscreen",function(){for(var g=0;g<Modernizr._domPrefixes.length;g++){if(document[Modernizr._domPrefixes[g].toLowerCase()+"CancelFullScreen"]){return !0}}return !!document.cancelFullScreen||!1}),Modernizr.addTest("json",!!window.JSON&&!!JSON.parse),Modernizr.addTest("raf",!!Modernizr.prefixed("requestAnimationFrame",window)),Modernizr.addTest("svgfilters",function(){var h=!1;
try{h=typeof SVGFEColorMatrixElement!==undefined&&SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE==2}catch(g){}return h}),function(){var g=new Image;g.onerror=function(){Modernizr.addTest("datauri",function(){return !1})},g.onload=function(){Modernizr.addTest("datauri",function(){return g.width==1&&g.height==1})},g.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}();function c(g){window.location=g.data[1]}function f(g){return $("<div/>").text(g).html()}function d(h,g){if(g[0]=="sim"){return' <span style="color: #666;">'+phetSimulationString.replace(/\{0\}/g,"<span style='color: #000;'>"+f(h)+"</span>")+"</span>"
}return f(h)}if(typeof window.phet.phetLocale!="undefined"){$(document).ready(function(){$("#search-text-id").autocomplete({url:"/autocomplete",extraParams:{l:window.phet.phetLocale},delay:250,onItemSelect:c,showResult:d})})}clearInterval(window.phet.phetMiscInterval);$(document).ready(function(){$(".autocompleteOff").each(function(){$(this).attr("autocomplete","off")})});function a(){var w="body";var p="body";var ae=".nav-menu-item";var o=".nav-menu-children-item";var an=".nav-menu-children";var t=".nav-menu-child";
var m=".nav-menu-parent";var n=m+".has-menu";var ab="#search-text-id";var G="#search-submit";var y="#search";var am="#search-container-desktop";var al="#search-container-mobile";var q="#search-icon";var v="#x-icon";var x="#search-toggle-button";var Q="#page-nav-search";var H="#collapsible-menu";var ah="#collapsible-menu-toggle";var ak="#page-content, #front-page, #page-footer";var C=".phet-logo, .cu-logo, #page-header-container-wrapper";var l="#page-header-menus";var T="#page-nav-menu ul[role=menubar]";
var I="#login-form";var r="#login-button";var j="#loginout-list-parent";var ag="#signed-out-menuitem";var s="#signed-in-menuitem";var O="#signed-in-menubar";var K=".user-icon";var z=m+","+x+", "+r+", #account-toggle";var A=ab+","+ah;var D=m+","+x+","+r;var U=9;var V=13;var E=27;var B=32;var S=35;var ao=36;var N=37;var X=38;var R=39;var P=40;var g=$(window).width();var F=true;var aa=window.phet.isLargeView();function Y(){return $($(ae)[0]).find(m)}function ad(){var ap=window.phet.isLargeView()?4:5;
return $($(ae)[ap]).find(m)}function af(){$(ae+".open").removeClass("open");$(n).attr("aria-expanded",false);$(an).attr("aria-hidden",true)}function M(ap){if(!window.phet.isLargeView()&&ap.keyCode===U&&ap.shiftKey===false){$(ah).focus()}}function h(ap){var ar=$(ah).hasClass("open");if(ap===undefined){ap=!ar}else{if(!(ap^ar)){return}}if(typeof ap!=="boolean"){throw"TypeError: shouldOpen is not a boolean"}$(w).toggleClass("menu-open-height",ap);$(ah).toggleClass("open",ap);$(ah).attr("aria-expanded",ap);
$(H).attr("aria-hidden",!ap);if(!ap){$(ak).removeClass("gone")}$(".emergency-message").toggle(!ap);var aq=ap||window.phet.isLargeView();$(m).attr("tabindex",aq?0:-1);$(ab+","+G).attr("tabindex",ap?0:-1)}function L(ap){if(ap!==undefined&&!(ap^$(am).hasClass("search-hidden"))){return}else{if(ap===undefined){ap=!$(am).hasClass("search-hidden")}}if($(q).hasClass("open")||ap){$(v).hide(0);$(q).show(0);$(q).removeClass("open");$(am).addClass("search-hidden");$(x).attr("aria-expanded",false);$(am).attr("aria-hidden",true);
$(ab+","+G).attr("tabindex",-1)}else{$(q).hide(0);$(v).show(0);$(q).addClass("open");$(am).removeClass("search-hidden");$(x).attr("aria-expanded",true);$(am).attr("aria-hidden",false);$(ab).focus();$(ab+","+G).attr("tabindex",0)}}function J(){$(C).addClass("collapsed");$(C).removeClass("expanded")}function u(){$(C).removeClass("collapsed");$(C).addClass("expanded")}function k(){g=$(this).width();$(I).trigger("close");if(window.phet.isLargeView()){$(p).removeClass("narrow");$(p).addClass("wide");aa=true;
$(z).attr("tabindex",0);$(A).attr("tabindex",-1);h(false);$(am).append($(Q));$(ab+","+G).attr("tabindex",-1);$(y).removeAttr("aria-hidden");$(al).attr("aria-hidden",true);$(j).append($(ag));$(O).append($(s));if(F){u()}else{J()}$(T).removeAttr("aria-orientation");$(H).removeAttr("aria-hidden")}else{$(p).removeClass("wide");$(p).addClass("narrow");if(aa){$(D).attr("tabindex",-1)}$(ah).attr("tabindex",0);var aq=$("#collapsible-menu").attr("aria-hidden");var ap=aq||typeof aq==="undefined";$(H).attr("aria-hidden",ap);
aa=false;$(al).append($(Q));$(al).attr("aria-hidden",false);$(T).append($(ag));$(T).append($(s));J();$(T).attr("aria-orientation","vertical")}af()}function ai(at,aq){at.preventDefault();var ap=$(this).closest(ae);if(!ap){throw"no nav-menu-item found"}var ar=ap.hasClass("open");if(aq===undefined){aq=!ar}else{if(!(aq^ar)){return}}af();if(aq){ap.addClass("open");$(this).attr("aria-expanded",true);ap.find(an).attr("aria-hidden",false)}}$(T).focusout(function(ap){if(!$(T).has(ap.relatedTarget)[0]){af()
}});$(an).each(function(ap,aq){if(!$(aq).hasClass("empty")){$(aq).focusout(function(at){if(!$(aq).has(at.relatedTarget)[0]){var ar=$(aq).closest(ae);ar.removeClass("open");ar.find(m).attr("aria-expanded",false);ar.find(an).attr("aria-hidden",true)}})}});$(y).focusout(function(ap){if(!$(y).has(ap.relatedTarget)[0]){L(true)}});$(n).click(ai);$(l).on("transitionend",function(){if($(ah).hasClass("open")){$(ak).addClass("gone")}});$(ah).click(function(ap){ap.preventDefault();h()});$(ah).keydown(function(ap){if(ap.keyCode===B||ap.keyCode===V){ap.preventDefault();
h();if($(H).hasClass("open")){$(ab).focus()}}});$(x).mousedown(function(ap){ap.preventDefault();L()});$(document).scroll(function(){if(window.phet.isLargeView()){if($(document).scrollTop()>96&&F){F=false;J()}else{if($(document).scrollTop()<=96&&!F){F=true;u()}}}});$(window).resize(function(){if($(this).width()!==g){setTimeout(k,200)}});var W=setInterval(function(){if(window.checkLogin&&typeof window.checkLogin==="function"){clearInterval(W)}else{return}window.checkLogin().then(function(ap){if(ap.loggedIn===true){$(K).addClass("active")
}})},500);var Z=function(ap){const aw=!!(ap&&ap.loggedIn);const at=aw&&!!(ap&&ap.isTeamMember);const av=aw&&!!(ap&&(ap.isTeamMember||ap.activityEditor));const aq=aw&&!!(ap.licenseMembership&&typeof ap.licenseMembership.uuid==="string");$("#sign-in-placeholder").hide();$("#signed-in-menu").toggle(aw);$("#sign-in-button").toggle(!aw);$("#mobile-login-button").toggle(!aw);$("#my-bookmarks-link").toggle(aw);$("#my-contributions-link").toggle(aw);$("#my-presets-link").toggle(aw);$("#my-license-link").toggle(aq);
const ar=$("#admin-link");ar.toggle(at);if(!at){ar.remove()}const au=$("#activity-editor-link");au.toggle(av);if(!av){au.remove()}};var ac=setInterval(function(){if(window.checkLogin&&typeof window.checkLogin==="function"){clearInterval(ac)}else{return}window.checkLogin().then(function(ap){Z(ap)})},500);function aj(ap){console.log("onLoginSuccess");h(false);return function(aq){if(ap){window.location=ap}else{window.history.replaceState(null,null,window.location)}Z(aq)}}$("#login-button,#mobile-login-button").click(function(){window.openReactLogin(aj(),window.location.href)
});$(ag).keypress(M);$(s).keypress(M);$(x).keypress(function(ap){if(ap.keyCode===V||ap.keyCode===B||ap.keyCode===X||ap.keyCode===P){ap.preventDefault();L()}});$(m).keydown(function(ar){if(ar.keyCode===E||(window.phet.isLargeView()&&$(s)[0]!==undefined&&$(s)[0]===$(self).closest(ae)[0]&&[R,N].indexOf(ar.keyCode)>=0)){af()}else{if((ar.keyCode===R&&window.phet.isLargeView())||(ar.keyCode===P&&!window.phet.isLargeView()&&!$(this).hasClass("has-menu"))){var ap=$(this).closest(ae).next().find(m)[0]||Y();
ap.focus()}else{if((ar.keyCode===N&&window.phet.isLargeView())||(ar.keyCode===X&&!window.phet.isLargeView())){var aq=$(this).closest(ae).prev().find(m)[0]||ad();aq.focus()}else{if(ar.keyCode===ao){ar.preventDefault();Y().focus()}else{if(ar.keyCode===S){ar.preventDefault();ad().focus()}else{if($(this).hasClass("has-menu")){if(ar.keyCode===X){ar.preventDefault();ai.bind(this)(ar,true);$(this).closest(ae).find(o+":last-child").find(t).focus()}else{if(ar.keyCode===P){ar.preventDefault();ai.bind(this)(ar,true);
$(this).closest(ae).find(o+":first-child").find(t).focus()}else{if(ar.keyCode===V||ar.keyCode===B){ai.bind(this)(ar,true);$(this).closest(ae).find(o+":first-child").find(t).focus()}}}}}}}}}});$(t).keydown(function(ap){var az=ap.currentTarget;var av=$(az).closest(an).find(o+":first-child").find(t);var at=$(az).closest(an).find(o+":last-child").find(t);if(ap.keyCode===E||(window.phet.isLargeView()&&$(s)[0]===$(az).closest(ae)[0]&&[R,N].indexOf(ap.keyCode)>=0)||(av[0]===az&&!window.phet.isLargeView()&&ap.keyCode===X)){$(az).closest(ae).find(m).focus()
}else{if(window.phet.isLargeView()&&ap.keyCode===R||(at[0]===az&&!window.phet.isLargeView()&&ap.keyCode===P)){var ar=$(az).closest(ae).next();var ay=ar.find(m)[0]||Y();ay.focus();if(ar&&ar.hasClass("has-menu")){ai.bind(ay)(ap,true)}}else{if(window.phet.isLargeView()&&ap.keyCode===N){var aw=$(az).closest(ae).prev();var ax=aw.find(m)[0]||ad();ax.focus();if(aw&&aw.hasClass("has-menu")){ai.bind(ax)(ap,true)}}else{if(ap.keyCode===ao){ap.preventDefault();av.focus()}else{if(ap.keyCode===S){ap.preventDefault();
at.focus()}else{if(ap.keyCode===X){ap.preventDefault();var aq=$(az).closest(o).prev().find(t)[0]||at;aq.focus()}else{if(ap.keyCode===P){ap.preventDefault();var au=$(az).closest(o).next().find(t)[0]||av;au.focus()}}}}}}}});$(ab+","+G).keydown(function(ap){if(ap.keyCode===E){ap.preventDefault();if(window.phet.isLargeView()){$(x).focus();L(true)}else{$(ah).focus()}}});af();k();$(ak).on("touchstart",function(){if($("#page-header").find($(document.activeElement)).length){document.activeElement.blur()}});
var i=document.createElement("img");i.src="/images/icons/plus-icon.png";i.classList.add("plus-icon");$(n).append(i);if(!window.phet.isLargeView()){$(m+","+ab+","+G).attr("tabindex",-1)}$("#emergency-message-close").click(function(){$(".emergency-message").hide()})}function e(){var g=document.getElementById("translation-links");g&&g.addEventListener("change",function(){window.history.replaceState(null,null,window.location.href.replace("/_m",""));if(window.location.pathname.indexOf("/index.html")>=0){window.location=window.location.pathname.replace("/index.html","/"+g.value+"/")
}else{if(window.location.pathname==="/"){window.location="/"+g.value+"/"}else{window.location=window.location.href.replace("/"+document.getElementById("locale").getAttribute("locale")+"/","/"+g.value+"/")}}})}a();e();window.phet=window.phet||{};window.phet.scrollTimeout=1000;window.phet.toggleExpandableText=function(m,i){if(!m){return false}var l="#"+m+"-header";var g=$("#"+m);var h=$(l);if(!g||!h){return false}var j=false;if(h.hasClass("triangle-right")||h.hasClass("triangle-down")){h.toggleClass("triangle-right");
h.toggleClass("triangle-down");j=true}if(h.hasClass("triangle-right-blue")||h.hasClass("triangle-down-blue")){h.toggleClass("triangle-right-blue");h.toggleClass("triangle-down-blue");j=true}var k=h.parent().find("i.fa");if(k.hasClass("fa-plus-square-o")||k.hasClass("fa-minus-square-o")){k.toggleClass("fa-plus-square-o");k.toggleClass("fa-minus-square-o");j=true}if(j){g.slideToggle();if(i){window.location.hash=l;setTimeout(function(){$("#page-content")[0].scroll(0,0);var n=window.scrollY;window.scroll(0,n-63)
},window.phet.scrollTimeout)}}return false};$(document).ready(function(){window.phet.toggleExpandableText(window.location.hash.replace("#","").replace("-header",""),true);var j=document.createElement("style");j.appendChild(document.createTextNode(""));document.head.appendChild(j);var i=j.sheet;var h=function(k){if(k&&k.x===0&&k.y===0){g(k)}else{if(i.cssRules.length===0){i.insertRule("button.expandable-text-link.click-area-expand:focus { outline: 0; box-shadow: none; }",0)}}};var g=function(k){var l=k.target||k.srcElement;
if(l&&l.id!=="login-email-entry"&&l.id!=="password"){while(i&&i.cssRules&&i.cssRules.length>0){i.deleteRule(0)}}};window.addEventListener("click",h);window.addEventListener("touch",h);window.addEventListener("keydown",g);h({x:-1})});window.phet=window.phet||{};var b=setInterval(function(){if(typeof $!=="undefined"){clearInterval(b);window.phet.ensureLogin=function(o,n,p,r){var q=setInterval(function(){if(window.openReactLogin&&typeof window.openReactLogin==="function"){clearInterval(q)}else{return
}window.openReactLogin(null,n||o)},500)};if(window.location.href.includes("showDonateAsk")){window.history.pushState("","",window.location.search.replace(/showDonateAsk=[0-9]*/g,""));var m=document.getElementById("loginDonateAsk");if(m){m.parentNode.removeChild(m);document.body.prepend(m);function h(){m.style.display="none";document.getElementById("skipNav").focus()}var g=$(".maybe-later-button");$(m).click(h);g.click(h);$("#login-donate-ask-dialog").click(function(n){n.stopPropagation()});$(m).keydown(function(n){if(n.keyCode===27){n.stopPropagation();
h()}});var j=$("#login-donate-button");var l=$("#maybe-later-button");l.keydown(function(n){if(n.shiftKey&&n.keyCode===9){n.preventDefault();j.focus()}});j.keydown(function(n){if(!n.shiftKey&&n.keyCode===9){n.preventDefault();l.focus()}});m.addEventListener("focusout",function(n){if(!m.contains(n.relatedTarget)){l.focus()}});j.focus(function(n){j.attr("tabindex",0);g.attr("tabindex",0)});m.focus();m.style.display="flex"}}var k="login-email-entry";var i="resend-link";$(k).keydown(function(n){if(n.shiftKey&&n.keyCode===9){n.preventDefault();
$(i).focus()}});$(i).keydown(function(n){if(n.keyCode===9){$(k).focus()}})}},100)}},500);